{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\mesProjets\\\\CommuniConnect\\\\frontend\\\\src\\\\components\\\\NotificationItem.js\";\nimport React from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport { fr } from 'date-fns/locale';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationItem = ({\n  notification,\n  onMarkAsRead,\n  onDelete\n}) => {\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'like':\n        return '❤️';\n      case 'comment':\n        return '💬';\n      case 'follow':\n        return '👥';\n      case 'live_started':\n        return '📺';\n      case 'live_ended':\n        return '⏹️';\n      case 'mention':\n        return '📢';\n      case 'system':\n        return '🔔';\n      default:\n        return '📌';\n    }\n  };\n  const getNotificationColor = type => {\n    switch (type) {\n      case 'like':\n        return 'bg-red-50 border-red-200';\n      case 'comment':\n        return 'bg-blue-50 border-blue-200';\n      case 'follow':\n        return 'bg-green-50 border-green-200';\n      case 'live_started':\n        return 'bg-purple-50 border-purple-200';\n      case 'live_ended':\n        return 'bg-gray-50 border-gray-200';\n      case 'mention':\n        return 'bg-yellow-50 border-yellow-200';\n      case 'system':\n        return 'bg-indigo-50 border-indigo-200';\n      default:\n        return 'bg-gray-50 border-gray-200';\n    }\n  };\n  const handleMarkAsRead = async () => {\n    if (!notification.is_read) {\n      try {\n        await onMarkAsRead(notification.id);\n      } catch (error) {\n        console.error('Erreur lors du marquage comme lu:', error);\n      }\n    }\n  };\n  const handleDelete = async () => {\n    try {\n      await onDelete(notification.id);\n    } catch (error) {\n      console.error('Erreur lors de la suppression:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-4 border-l-4 transition-all duration-200 hover:shadow-md ${notification.is_read ? 'bg-white border-gray-300 opacity-75' : `bg-white border-l-4 ${getNotificationColor(notification.notification_type)}`}`,\n    onClick: handleMarkAsRead,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-start space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0 text-2xl\",\n        children: getNotificationIcon(notification.notification_type)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-900\",\n            children: notification.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: formatDistanceToNow(new Date(notification.created_at), {\n                addSuffix: true,\n                locale: fr\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), !notification.is_read && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 bg-blue-500 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: notification.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), notification.extra_data && Object.keys(notification.extra_data).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-xs text-gray-500\",\n          children: [notification.extra_data.post_title && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Post: \", notification.extra_data.post_title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this), notification.extra_data.comment_content && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Commentaire: \", notification.extra_data.comment_content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this), notification.extra_data.live_title && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Live: \", notification.extra_data.live_title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: !notification.is_read && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => {\n                e.stopPropagation();\n                handleMarkAsRead();\n              },\n              className: \"text-xs text-blue-600 hover:text-blue-800 font-medium\",\n              children: \"Marquer comme lu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              handleDelete();\n            },\n            className: \"text-xs text-red-600 hover:text-red-800 font-medium\",\n            children: \"Supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_c = NotificationItem;\nexport default NotificationItem;\nvar _c;\n$RefreshReg$(_c, \"NotificationItem\");","map":{"version":3,"names":["React","formatDistanceToNow","fr","jsxDEV","_jsxDEV","NotificationItem","notification","onMarkAsRead","onDelete","getNotificationIcon","type","getNotificationColor","handleMarkAsRead","is_read","id","error","console","handleDelete","className","notification_type","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","title","Date","created_at","addSuffix","locale","message","extra_data","Object","keys","length","post_title","comment_content","live_title","e","stopPropagation","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/mesProjets/CommuniConnect/frontend/src/components/NotificationItem.js"],"sourcesContent":["import React from 'react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { fr } from 'date-fns/locale';\r\n\r\nconst NotificationItem = ({ notification, onMarkAsRead, onDelete }) => {\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'like':\r\n        return '❤️';\r\n      case 'comment':\r\n        return '💬';\r\n      case 'follow':\r\n        return '👥';\r\n      case 'live_started':\r\n        return '📺';\r\n      case 'live_ended':\r\n        return '⏹️';\r\n      case 'mention':\r\n        return '📢';\r\n      case 'system':\r\n        return '🔔';\r\n      default:\r\n        return '📌';\r\n    }\r\n  };\r\n\r\n  const getNotificationColor = (type) => {\r\n    switch (type) {\r\n      case 'like':\r\n        return 'bg-red-50 border-red-200';\r\n      case 'comment':\r\n        return 'bg-blue-50 border-blue-200';\r\n      case 'follow':\r\n        return 'bg-green-50 border-green-200';\r\n      case 'live_started':\r\n        return 'bg-purple-50 border-purple-200';\r\n      case 'live_ended':\r\n        return 'bg-gray-50 border-gray-200';\r\n      case 'mention':\r\n        return 'bg-yellow-50 border-yellow-200';\r\n      case 'system':\r\n        return 'bg-indigo-50 border-indigo-200';\r\n      default:\r\n        return 'bg-gray-50 border-gray-200';\r\n    }\r\n  };\r\n\r\n  const handleMarkAsRead = async () => {\r\n    if (!notification.is_read) {\r\n      try {\r\n        await onMarkAsRead(notification.id);\r\n      } catch (error) {\r\n        console.error('Erreur lors du marquage comme lu:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await onDelete(notification.id);\r\n    } catch (error) {\r\n      console.error('Erreur lors de la suppression:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`p-4 border-l-4 transition-all duration-200 hover:shadow-md ${\r\n        notification.is_read \r\n          ? 'bg-white border-gray-300 opacity-75' \r\n          : `bg-white border-l-4 ${getNotificationColor(notification.notification_type)}`\r\n      }`}\r\n      onClick={handleMarkAsRead}\r\n    >\r\n      <div className=\"flex items-start space-x-3\">\r\n        {/* Icône */}\r\n        <div className=\"flex-shrink-0 text-2xl\">\r\n          {getNotificationIcon(notification.notification_type)}\r\n        </div>\r\n\r\n        {/* Contenu */}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h4 className=\"text-sm font-medium text-gray-900\">\r\n              {notification.title}\r\n            </h4>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-xs text-gray-500\">\r\n                {formatDistanceToNow(new Date(notification.created_at), {\r\n                  addSuffix: true,\r\n                  locale: fr\r\n                })}\r\n              </span>\r\n              {!notification.is_read && (\r\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <p className=\"text-sm text-gray-600 mt-1\">\r\n            {notification.message}\r\n          </p>\r\n\r\n          {/* Données supplémentaires */}\r\n          {notification.extra_data && Object.keys(notification.extra_data).length > 0 && (\r\n            <div className=\"mt-2 text-xs text-gray-500\">\r\n              {notification.extra_data.post_title && (\r\n                <p>Post: {notification.extra_data.post_title}</p>\r\n              )}\r\n              {notification.extra_data.comment_content && (\r\n                <p>Commentaire: {notification.extra_data.comment_content}</p>\r\n              )}\r\n              {notification.extra_data.live_title && (\r\n                <p>Live: {notification.extra_data.live_title}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-between mt-3\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              {!notification.is_read && (\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleMarkAsRead();\r\n                  }}\r\n                  className=\"text-xs text-blue-600 hover:text-blue-800 font-medium\"\r\n                >\r\n                  Marquer comme lu\r\n                </button>\r\n              )}\r\n            </div>\r\n            \r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleDelete();\r\n              }}\r\n              className=\"text-xs text-red-600 hover:text-red-800 font-medium\"\r\n            >\r\n              Supprimer\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationItem; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import api from './api';\n\n// Service pour les posts\nexport const postsAPI = {\n  // Récupérer tous les posts\n  getPosts: async (params = {}) => {\n    const response = await api.get('/posts/', {\n      params\n    });\n    return response.data;\n  },\n  // Récupérer un post spécifique\n  getPost: async postId => {\n    const response = await api.get(`/posts/${postId}/`);\n    return response.data;\n  },\n  // Créer un nouveau post\n  createPost: async postData => {\n    // Si postData est un FormData (avec image), ne pas définir Content-Type\n    // Axios le définira automatiquement avec la boundary appropriée\n    const config = {};\n    if (postData instanceof FormData) {\n      config.headers = {\n        'Content-Type': 'multipart/form-data'\n      };\n    }\n    const response = await api.post('/posts/', postData, config);\n    return response.data;\n  },\n  // Modifier un post\n  updatePost: async (postId, postData) => {\n    const response = await api.put(`/posts/${postId}/`, postData);\n    return response.data;\n  },\n  // Supprimer un post\n  deletePost: async postId => {\n    const response = await api.delete(`/posts/${postId}/`);\n    return response.data;\n  },\n  // Liker/unliker un post\n  likePost: async postId => {\n    const response = await api.post(`/posts/${postId}/like/`);\n    return response.data;\n  },\n  // Unliker un post\n  unlikePost: async postId => {\n    const response = await api.delete(`/posts/${postId}/like/`);\n    return response.data;\n  },\n  // Récupérer les commentaires d'un post\n  getComments: async postId => {\n    const response = await api.get(`/posts/${postId}/comments/`);\n    return response.data;\n  },\n  // Ajouter un commentaire\n  addComment: async (postId, commentData) => {\n    const response = await api.post(`/posts/${postId}/comments/`, commentData);\n    return response.data;\n  },\n  // Répondre à un commentaire\n  replyToComment: async (commentId, replyData) => {\n    const response = await api.post(`/posts/comments/${commentId}/reply/`, replyData);\n    return response.data;\n  },\n  // Modifier un commentaire\n  updateComment: async (commentId, commentData) => {\n    const response = await api.put(`/posts/comments/${commentId}/`, commentData);\n    return response.data;\n  },\n  // Supprimer un commentaire\n  deleteComment: async commentId => {\n    const response = await api.delete(`/posts/comments/${commentId}/`);\n    return response.data;\n  },\n  // Récupérer les posts d'un utilisateur\n  getUserPosts: async userId => {\n    const response = await api.get(`/posts/user/${userId}/`);\n    return response.data;\n  },\n  // Incrémenter les vues d'un post\n  incrementViews: async postId => {\n    const response = await api.post(`/posts/${postId}/increment-views/`);\n    return response.data;\n  }\n};","map":{"version":3,"names":["api","postsAPI","getPosts","params","response","get","data","getPost","postId","createPost","postData","config","FormData","headers","post","updatePost","put","deletePost","delete","likePost","unlikePost","getComments","addComment","commentData","replyToComment","commentId","replyData","updateComment","deleteComment","getUserPosts","userId","incrementViews"],"sources":["C:/Users/DELL/Documents/mesProjets/CommuniConnect/frontend/src/services/postsAPI.js"],"sourcesContent":["import api from './api';\r\n\r\n// Service pour les posts\r\nexport const postsAPI = {\r\n  // Récupérer tous les posts\r\n  getPosts: async (params = {}) => {\r\n    const response = await api.get('/posts/', { params });\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer un post spécifique\r\n  getPost: async (postId) => {\r\n    const response = await api.get(`/posts/${postId}/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Créer un nouveau post\r\n  createPost: async (postData) => {\r\n    // Si postData est un FormData (avec image), ne pas définir Content-Type\r\n    // Axios le définira automatiquement avec la boundary appropriée\r\n    const config = {};\r\n    if (postData instanceof FormData) {\r\n      config.headers = {\r\n        'Content-Type': 'multipart/form-data',\r\n      };\r\n    }\r\n    \r\n    const response = await api.post('/posts/', postData, config);\r\n    return response.data;\r\n  },\r\n\r\n  // Modifier un post\r\n  updatePost: async (postId, postData) => {\r\n    const response = await api.put(`/posts/${postId}/`, postData);\r\n    return response.data;\r\n  },\r\n\r\n  // Supprimer un post\r\n  deletePost: async (postId) => {\r\n    const response = await api.delete(`/posts/${postId}/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Liker/unliker un post\r\n  likePost: async (postId) => {\r\n    const response = await api.post(`/posts/${postId}/like/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Unliker un post\r\n  unlikePost: async (postId) => {\r\n    const response = await api.delete(`/posts/${postId}/like/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer les commentaires d'un post\r\n  getComments: async (postId) => {\r\n    const response = await api.get(`/posts/${postId}/comments/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Ajouter un commentaire\r\n  addComment: async (postId, commentData) => {\r\n    const response = await api.post(`/posts/${postId}/comments/`, commentData);\r\n    return response.data;\r\n  },\r\n\r\n  // Répondre à un commentaire\r\n  replyToComment: async (commentId, replyData) => {\r\n    const response = await api.post(`/posts/comments/${commentId}/reply/`, replyData);\r\n    return response.data;\r\n  },\r\n\r\n  // Modifier un commentaire\r\n  updateComment: async (commentId, commentData) => {\r\n    const response = await api.put(`/posts/comments/${commentId}/`, commentData);\r\n    return response.data;\r\n  },\r\n\r\n  // Supprimer un commentaire\r\n  deleteComment: async (commentId) => {\r\n    const response = await api.delete(`/posts/comments/${commentId}/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Récupérer les posts d'un utilisateur\r\n  getUserPosts: async (userId) => {\r\n    const response = await api.get(`/posts/user/${userId}/`);\r\n    return response.data;\r\n  },\r\n\r\n  // Incrémenter les vues d'un post\r\n  incrementViews: async (postId) => {\r\n    const response = await api.post(`/posts/${postId}/increment-views/`);\r\n    return response.data;\r\n  },\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}